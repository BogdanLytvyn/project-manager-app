{"ast":null,"code":"import _classCallCheck from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import styles from'./ChartModal.module.css';import Chart from'../Chart';import sprite from\"../../../icons/symbol-defs.svg\";import{connect}from'react-redux';import{getTasks}from'../../../redux/tasks/task-selectors';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=/*#__PURE__*/function(_Component){_inherits(Modal,_Component);var _super=_createSuper(Modal);function Modal(){var _this;_classCallCheck(this,Modal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modal:false};_this.toggleModal=function(){_this.setState(function(_ref){var modal=_ref.modal;return{modal:!modal};});};_this.handlekeydown=function(e){if(e.code==='Escape'){_this.toggleModal();}};return _this;}_createClass(Modal,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('keydown',this.handlekeydown);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var body=document.querySelector('body');body.style.overflow=this.state.modal?'hidden':'auto';}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('keydown',this.handlekeydown);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[this.props.tasks.length>2&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:styles.buttonAdd,onClick:this.toggleModal,children:/*#__PURE__*/_jsx(\"svg\",{className:styles.icon,children:/*#__PURE__*/_jsx(\"use\",{href:sprite+'#icon-analytics'})})}),this.state.modal&&/*#__PURE__*/_jsx(\"div\",{className:styles.Overlay,children:/*#__PURE__*/_jsx(\"div\",{className:styles.Modal,children:/*#__PURE__*/_jsx(Chart,{})})})]});}}]);return Modal;}(Component);var mapStateToProps=function mapStateToProps(state){return{tasks:getTasks(state)};};export default connect(mapStateToProps)(Modal);","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/components/graph/modal/ChartModal.jsx"],"names":["React","Component","styles","Chart","connect","getTasks","Modal","state","modal","toggleModal","setState","handlekeydown","e","code","window","addEventListener","body","document","querySelector","style","overflow","removeEventListener","props","tasks","length","buttonAdd","icon","sprite","Overlay","mapStateToProps"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,C,mDAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,qCAAzB,C,gJAEMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,KAAK,CAAE,KADD,C,OAeRC,W,CAAc,UAAM,CAClB,MAAKC,QAAL,CAAc,kBAAGF,CAAAA,KAAH,MAAGA,KAAH,OAAgB,CAAEA,KAAK,CAAE,CAACA,KAAV,CAAhB,EAAd,EACD,C,OACDG,a,CAAgB,SAAAC,CAAC,CAAI,CACnB,GAAIA,CAAC,CAACC,IAAF,GAAW,QAAf,CAAyB,CACvB,MAAKJ,WAAL,GACD,CACF,C,kEAnBD,4BAAoB,CAClBK,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmC,KAAKJ,aAAxC,EACD,C,kCAED,6BAAqB,CACnB,GAAMK,CAAAA,IAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb,CACAF,IAAI,CAACG,KAAL,CAAWC,QAAX,CAAsB,KAAKb,KAAL,CAAWC,KAAX,CAAmB,QAAnB,CAA8B,MAApD,CACD,C,oCAED,+BAAuB,CACrBM,MAAM,CAACO,mBAAP,CAA2B,SAA3B,CAAsC,KAAKV,aAA3C,EACD,C,sBASD,iBAAS,CACP,mBACE,2BACG,KAAKW,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAA0B,CAA1B,eACC,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAEtB,MAAM,CAACuB,SAFpB,CAGE,OAAO,CAAE,KAAKhB,WAHhB,uBAKE,YAAK,SAAS,CAAEP,MAAM,CAACwB,IAAvB,uBACE,YAAK,IAAI,CAAEC,MAAM,CAAG,iBAApB,EADF,EALF,EAFJ,CAaG,KAAKpB,KAAL,CAAWC,KAAX,eACC,YAAK,SAAS,CAAEN,MAAM,CAAC0B,OAAvB,uBACE,YAAK,SAAS,CAAE1B,MAAM,CAACI,KAAvB,uBACE,KAAC,KAAD,IADF,EADF,EAdJ,GADF,CAuBD,C,mBAhDiBL,S,EAmDpB,GAAM4B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAtB,KAAK,QAAK,CAChCgB,KAAK,CAAElB,QAAQ,CAACE,KAAD,CADiB,CAAL,EAA7B,CAIA,cAAeH,CAAAA,OAAO,CAACyB,eAAD,CAAP,CAAyBvB,KAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport styles from './ChartModal.module.css';\nimport Chart from '../Chart';\nimport sprite from '../../../icons/symbol-defs.svg';\nimport { connect } from 'react-redux';\nimport { getTasks } from '../../../redux/tasks/task-selectors';\n\nclass Modal extends Component {\n  state = {\n    modal: false,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlekeydown);\n  }\n\n  componentDidUpdate() {\n    const body = document.querySelector('body');\n    body.style.overflow = this.state.modal ? 'hidden' : 'auto';\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlekeydown);\n  }\n  toggleModal = () => {\n    this.setState(({ modal }) => ({ modal: !modal }));\n  };\n  handlekeydown = e => {\n    if (e.code === 'Escape') {\n      this.toggleModal();\n    }\n  };\n  render() {\n    return (\n      <>\n        {this.props.tasks.length > 2 && (\n          <button\n            type=\"button\"\n            className={styles.buttonAdd}\n            onClick={this.toggleModal}\n          >\n            <svg className={styles.icon}>\n              <use href={sprite + '#icon-analytics'}></use>\n            </svg>\n          </button>\n        )}\n\n        {this.state.modal && (\n          <div className={styles.Overlay}>\n            <div className={styles.Modal}>\n              <Chart />\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  tasks: getTasks(state),\n});\n\nexport default connect(mapStateToProps)(Modal);\n"]},"metadata":{},"sourceType":"module"}