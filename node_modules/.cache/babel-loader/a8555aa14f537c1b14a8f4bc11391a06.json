{"ast":null,"code":"import _toConsumableArray from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{useSelector}from'react-redux';import{getTasks}from'../../redux/tasks/task-selectors';import styles from'./Chart.module.css';import{Line}from'react-chartjs-2';import _ from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LineDemo(){var getAll=useSelector(getTasks);var months=['','JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];var sumRedLine=getAll.reduce(function(cnt,getAll){return cnt+getAll.hoursPlanned;},0);var otherDaysRedLine=function otherDaysRedLine(){var arr=[];var sumAllRedLine=sumRedLine;for(var i=0;i<=getAll[0].hoursWastedPerDay.length;i++){sumAllRedLine-=sumRedLine/getAll[0].hoursWastedPerDay.length;arr.push(sumAllRedLine);}return arr;};var otherDaysBlueLine=function otherDaysBlueLine(){var arrBlueLine=[];var multipleHoursWasted=_.flattenDeep(_.map(getAll,'hoursWastedPerDay'));multipleHoursWasted=_.groupBy(multipleHoursWasted,'currentDay');arrBlueLine=_.map(multipleHoursWasted,function(i){return _.sumBy(i,function(i){return i.singleHoursWasted;});});return arrBlueLine;};var labelsDate=getAll[0].hoursWastedPerDay.map(function(i){return i.currentDay;});var result=labelsDate.map(function(day){var arr=day.split('-');return\"\".concat(arr[2],\" \").concat(months[arr[1].replace(/(^|\\s)0/g,'$1')]);});var data={labels:result,datasets:[{label:'Actual remaining labor in hours',fill:false,lineTension:0.1,backgroundColor:'rgba(75,192,192,0.4)',borderColor:'blue',borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',pointBorderColor:'rgba(75,192,192,1)',pointBackgroundColor:'#fff',pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:'rgba(75,192,192,1)',pointHoverBorderColor:'rgba(220,220,220,1)',pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:[sumRedLine].concat(_toConsumableArray(otherDaysBlueLine()))},{label:'Planned remaining work in hours',fill:false,lineTension:0.1,backgroundColor:'rgba(150,150,0,0.4)',borderColor:'red',borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',pointBorderColor:'rgba(75,192,192,1)',pointBackgroundColor:'#fff',pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:'rgba(75,192,192,1)',pointHoverBorderColor:'rgba(220,220,220,1)',pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:[sumRedLine].concat(_toConsumableArray(otherDaysRedLine()))}]};return/*#__PURE__*/_jsxs(\"div\",{className:styles.chartContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Burndown Chart (Calendar Team)\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.graphcontainer,children:/*#__PURE__*/_jsx(Line,{data:data// (windows.width = 1200 ? 900 : 500)\n,width:900,height:460,options:{maintainAspectRatio:false}})})]});}export default LineDemo;","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/components/graph/Chart.jsx"],"names":["React","useSelector","getTasks","styles","Line","_","LineDemo","getAll","months","sumRedLine","reduce","cnt","hoursPlanned","otherDaysRedLine","arr","sumAllRedLine","i","hoursWastedPerDay","length","push","otherDaysBlueLine","arrBlueLine","multipleHoursWasted","flattenDeep","map","groupBy","sumBy","singleHoursWasted","labelsDate","currentDay","result","day","split","replace","data","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","chartContainer","graphcontainer","maintainAspectRatio"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getTasks } from '../../redux/tasks/task-selectors';\nimport styles from './Chart.module.css';\nimport { Line } from 'react-chartjs-2';\nimport _ from 'lodash';\n\nfunction LineDemo() {\n  const getAll = useSelector(getTasks);\n  const months = [\n    '',\n    'JAN',\n    'FEB',\n    'MAR',\n    'APR',\n    'MAY',\n    'JUN',\n    'JUL',\n    'AUG',\n    'SEP',\n    'OCT',\n    'NOV',\n    'DEC',\n  ];\n\n  const sumRedLine = getAll.reduce(function (cnt, getAll) {\n    return cnt + getAll.hoursPlanned;\n  }, 0);\n\n  const otherDaysRedLine = () => {\n    let arr = [];\n    let sumAllRedLine = sumRedLine;\n\n    for (let i = 0; i <= getAll[0].hoursWastedPerDay.length; i++) {\n      sumAllRedLine -= sumRedLine / getAll[0].hoursWastedPerDay.length;\n      arr.push(sumAllRedLine);\n    }\n    return arr;\n  };\n\n  const otherDaysBlueLine = () => {\n    let arrBlueLine = [];\n    let multipleHoursWasted = _.flattenDeep(_.map(getAll, 'hoursWastedPerDay'));\n    multipleHoursWasted = _.groupBy(multipleHoursWasted, 'currentDay');\n    arrBlueLine = _.map(multipleHoursWasted, i => {\n      return _.sumBy(i, i => i.singleHoursWasted);\n    });\n    return arrBlueLine;\n  };\n\n  const labelsDate = getAll[0].hoursWastedPerDay.map(i => i.currentDay);\n\n  const result = labelsDate.map(day => {\n    const arr = day.split('-');\n    return `${arr[2]} ${months[arr[1].replace(/(^|\\s)0/g, '$1')]}`;\n  });\n  const data = {\n    labels: result,\n    datasets: [\n      {\n        label: 'Actual remaining labor in hours',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(75,192,192,0.4)',\n        borderColor: 'blue',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(75,192,192,1)',\n        pointBackgroundColor: '#fff',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 3,\n        pointHitRadius: 10,\n        data: [sumRedLine, ...otherDaysBlueLine()],\n      },\n      {\n        label: 'Planned remaining work in hours',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(150,150,0,0.4)',\n        borderColor: 'red',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(75,192,192,1)',\n        pointBackgroundColor: '#fff',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 3,\n        pointHitRadius: 10,\n        data: [sumRedLine, ...otherDaysRedLine()],\n      },\n    ],\n  };\n\n  return (\n    <div className={styles.chartContainer}>\n      <h2>Burndown Chart (Calendar Team)</h2>\n      <div className={styles.graphcontainer}>\n        <Line\n          data={data}\n          // (windows.width = 1200 ? 900 : 500)\n          width={900}\n          height={460}\n          options={{ maintainAspectRatio: false }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default LineDemo;\n"]},"metadata":{},"sourceType":"module"}