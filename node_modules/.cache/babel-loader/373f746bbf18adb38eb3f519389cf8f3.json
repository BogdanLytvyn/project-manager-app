{"ast":null,"code":"import _slicedToArray from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{useParams}from'react-router-dom';import styles from'./EditTitle.module.css';import sprite from\"../../../icons/symbol-defs.svg\";import{editTitle}from'../../../redux/projects/projects-operations';import{getProjectLoading,getProjectsSelector}from'../../../redux/projects/projects-selectors';import AutosizeInput from'../../titleEditor/AutosizeInput';import Loader from'../../loader/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditTitle=function EditTitle(){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isUpdate=_useState4[0],setUpdate=_useState4[1];var _useParams=useParams(),projectId=_useParams.projectId;var projects=useSelector(getProjectsSelector);var isLoading=useSelector(getProjectLoading);var project=projects.find(function(item){return item._id===projectId;});var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),active=_useState6[0],setActive=_useState6[1];var onEditTitle=function onEditTitle(){setActive(function(){return setActive(false);});setUpdate(!isUpdate);setInput(project.title);};var onHandleChange=function onHandleChange(evt){setInput(evt.target.value);};var onHandleSubmit=function onHandleSubmit(evt){evt.preventDefault();dispatch(editTitle(projectId,input));setUpdate(!isUpdate);setActive(function(){return setActive(true);});};if(active){return/*#__PURE__*/_jsxs(\"div\",{className:styles.box,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.current,children:isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.pageTitle,children:project===null||project===void 0?void 0:project.title}),/*#__PURE__*/_jsx(\"button\",{onClick:onEditTitle,type:\"button\",className:styles.buttonFix,children:/*#__PURE__*/_jsx(\"svg\",{className:styles.iconPencil,children:/*#__PURE__*/_jsx(\"use\",{href:sprite+'#icon-pencil'})})})]})}),/*#__PURE__*/_jsx(\"p\",{className:styles.description,children:project===null||project===void 0?void 0:project.description})]});}if(!active){return/*#__PURE__*/_jsxs(\"div\",{className:styles.box,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.edit,children:/*#__PURE__*/_jsxs(\"form\",{className:styles.editForm,children:[/*#__PURE__*/_jsx(AutosizeInput,{type:\"text\",name:\"edit\",value:input,autoComplete:\"off\",onChange:onHandleChange,onBlur:onHandleSubmit,inputClassName:styles.editInput,maxLength:\"30\",autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{className:styles.buttonSave,onClick:onHandleSubmit,type:\"submit\",children:/*#__PURE__*/_jsx(\"svg\",{className:styles.iconSave,children:/*#__PURE__*/_jsx(\"use\",{href:sprite+'#icon-save'})})})]})}),/*#__PURE__*/_jsx(\"p\",{className:styles.description,children:project===null||project===void 0?void 0:project.description})]});}};export default EditTitle;","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/components/sprintsPageContent/editTitle/EditTitle.jsx"],"names":["React","useState","useSelector","useDispatch","useParams","styles","editTitle","getProjectLoading","getProjectsSelector","AutosizeInput","Loader","EditTitle","dispatch","input","setInput","isUpdate","setUpdate","projectId","projects","isLoading","project","find","item","_id","active","setActive","onEditTitle","title","onHandleChange","evt","target","value","onHandleSubmit","preventDefault","box","current","pageTitle","buttonFix","iconPencil","sprite","description","edit","editForm","editInput","buttonSave","iconSave"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport styles from './EditTitle.module.css';\nimport sprite from '../../../icons/symbol-defs.svg';\nimport { editTitle } from '../../../redux/projects/projects-operations';\nimport { getProjectLoading, getProjectsSelector } from '../../../redux/projects/projects-selectors';\nimport AutosizeInput from '../../titleEditor/AutosizeInput';\nimport Loader from '../../loader/Loader';\n\n\nconst EditTitle = () => {\n  const dispatch = useDispatch();\n  const [input, setInput] = useState();\n  const [isUpdate, setUpdate] = useState(true);\n  const { projectId } = useParams();\n  const projects = useSelector(getProjectsSelector);\n  const isLoading = useSelector(getProjectLoading);\n  const project = projects.find(item => item._id === projectId);\n  const [active, setActive] = useState(true);\n\n  const onEditTitle = () => {\n    setActive(() => setActive(false));\n    setUpdate(!isUpdate);\n    setInput(project.title);\n  };\n\n  const onHandleChange = evt => {\n    setInput(evt.target.value);\n  };\n\n  const onHandleSubmit = evt => {\n    evt.preventDefault();\n    dispatch(editTitle(projectId, input));\n    setUpdate(!isUpdate);\n    setActive(() => setActive(true));\n  };\n\n  if (active) {\n    return (\n      <div className={styles.box}>\n        <div className={styles.current}>\n          {isLoading ? (\n              <Loader />\n          ) : (\n            <>\n              <h2 className={styles.pageTitle}>{project?.title}</h2>\n              <button\n                onClick={onEditTitle}\n                type=\"button\"\n                className={styles.buttonFix}\n              >\n                <svg className={styles.iconPencil}>\n                  <use href={sprite + '#icon-pencil'}></use>\n                </svg>\n              </button>\n            </>\n          )}\n        </div>\n        <p className={styles.description}>{project?.description}</p>\n      </div>\n    );\n  }\n\n  if (!active) {\n    return (\n      <div className={styles.box}>\n        <div className={styles.edit}>\n          <form className={styles.editForm}>\n            <AutosizeInput\n              type=\"text\"\n              name=\"edit\"\n              value={input}\n              autoComplete=\"off\"\n              onChange={onHandleChange}\n              onBlur={onHandleSubmit}\n              inputClassName={styles.editInput}\n              maxLength=\"30\"\n              autoFocus\n            />\n            <button\n              className={styles.buttonSave}\n              onClick={onHandleSubmit}\n              type=\"submit\"\n            >\n              <svg className={styles.iconSave}>\n                <use href={sprite + '#icon-save'}></use>\n              </svg>\n            </button>\n          </form>\n        </div>\n        <p className={styles.description}>{project?.description}</p>\n      </div>\n    );\n  }\n};\n\nexport default EditTitle;\n"]},"metadata":{},"sourceType":"module"}