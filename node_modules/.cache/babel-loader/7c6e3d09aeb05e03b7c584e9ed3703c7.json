{"ast":null,"code":"var _jsxFileName = \"/home/bogdan/project-manager-app/src/components/registrationForm/RegistrationForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { register } from '../../redux/auth/auth-operations.js';\nimport styles from './RegistrationForm.module.css';\nimport Background from '../background/Background.jsx';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  email: '',\n  password: '',\n  confirm_password: ''\n};\nexport default function RegistrationForm() {\n  _s();\n\n  const [user, setUser] = useState(initialState);\n  const [formErrors, setFormErrors] = useState({});\n  const dispatch = useDispatch();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = ({\n    target: {\n      name,\n      value\n    }\n  }) => {\n    setUser(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setFormErrors(validate(user));\n    setIsSubmitting(true);\n  };\n\n  const validate = user => {\n    let errors = {};\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n\n    if (!user.email) {\n      errors.email = /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.warning,\n        children: \" Email is a required field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this);\n    } else if (!regex.test(user.email)) {\n      errors.email = /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.warning,\n        children: \"Invalid email format\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!user.password) {\n      errors.password = /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.warning,\n        children: \" Password is a required field\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n    } else if (user.password.length < 6) {\n      errors.password = /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.warning,\n        children: \"Password must be more than 6 characters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    } else if (user.password !== user.confirm_password) {\n      errors.confirm_password = /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.warning,\n        children: \"Passwords don't match\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this);\n    }\n\n    return errors;\n  };\n\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmitting) {\n      const submitForm = () => {\n        dispatch(register({\n          email: user.email,\n          password: user.password\n        }));\n      };\n\n      submitForm();\n    }\n  }, [formErrors, isSubmitting, user.email, user.password, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.wrapper,\n    children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: styles.title,\n        children: \"Sign up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            color: formErrors.email ? 'rgba(204, 32, 41, 0.6)' : 'rgba(24, 28, 39, 0.6)',\n            borderBottom: formErrors.email ? '1px solid rgba(204, 32, 41, 0.6)' : '1px solid rgba(24, 28, 39, 0.2)'\n          },\n          type: \"email\",\n          name: \"email\",\n          value: user.email,\n          onChange: handleChange,\n          className: styles.input,\n          placeholder: \"E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), formErrors.email, /*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            color: formErrors.password ? 'rgba(204, 32, 41, 0.6)' : 'rgba(24, 28, 39, 0.6)',\n            borderBottom: formErrors.password ? '1px solid rgba(204, 32, 41, 0.6)' : '1px solid rgba(24, 28, 39, 0.2)'\n          },\n          type: \"password\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleChange,\n          className: styles.input,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), formErrors.password, /*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            color: formErrors.confirm_password ? 'rgba(204, 32, 41, 0.6)' : 'rgba(24, 28, 39, 0.6)',\n            borderBottom: formErrors.confirm_password ? '1px solid rgba(204, 32, 41, 0.6)' : '1px solid rgba(24, 28, 39, 0.2)'\n          },\n          type: \"password\",\n          name: \"confirm_password\",\n          value: user.confirm_password,\n          onChange: handleChange,\n          className: styles.input,\n          placeholder: \"Confirm password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), formErrors.confirm_password, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.button_wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.button,\n          type: \"submit\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.textUnderbutton,\n        children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: styles.underlined,\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegistrationForm, \"e/ofhuCt2ODfWreSdrbpx+x9tBU=\", false, function () {\n  return [useDispatch];\n});\n\n_c = RegistrationForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/components/registrationForm/RegistrationForm.jsx"],"names":["React","useEffect","useState","useDispatch","register","styles","Background","Link","initialState","email","password","confirm_password","RegistrationForm","user","setUser","formErrors","setFormErrors","dispatch","isSubmitting","setIsSubmitting","handleChange","target","name","value","prevState","handleSubmit","event","preventDefault","validate","errors","regex","warning","test","length","Object","keys","submitForm","wrapper","form","title","label","color","borderBottom","input","button_wrapper","button","textUnderbutton","underlined"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { register } from '../../redux/auth/auth-operations.js';\nimport styles from './RegistrationForm.module.css';\nimport Background from '../background/Background.jsx';\nimport { Link } from 'react-router-dom';\n\nconst initialState = {\n  email: '',\n  password: '',\n  confirm_password: '',\n};\n\nexport default function RegistrationForm() {\n  const [user, setUser] = useState(initialState);\n  const [formErrors, setFormErrors] = useState({});\n  const dispatch = useDispatch();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = ({ target: { name, value } }) => {\n    setUser(prevState => ({ ...prevState, [name]: value }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setFormErrors(validate(user));\n    setIsSubmitting(true);\n  };\n\n  const validate = user => {\n    let errors = {};\n    const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    if (!user.email) {\n      errors.email = (\n        <span className={styles.warning}> Email is a required field</span>\n      );\n    } else if (!regex.test(user.email)) {\n      errors.email = (\n        <span className={styles.warning}>Invalid email format</span>\n      );\n    }\n    if (!user.password) {\n      errors.password = (\n        <span className={styles.warning}> Password is a required field</span>\n      );\n    } else if (user.password.length < 6) {\n      errors.password = (\n        <span className={styles.warning}>\n          Password must be more than 6 characters\n        </span>\n      );\n    } else if (user.password !== user.confirm_password) {\n      errors.confirm_password = (\n        <span className={styles.warning}>Passwords don't match</span>\n      );\n    }\n    return errors;\n  };\n\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmitting) {\n      const submitForm = () => {\n        dispatch(\n          register({\n            email: user.email,\n            password: user.password,\n          }),\n        );\n      };\n      submitForm();\n    }\n  }, [formErrors, isSubmitting, user.email, user.password, dispatch]);\n\n  return (\n    <div className={styles.wrapper}>\n      <Background />\n\n      <form onSubmit={handleSubmit} className={styles.form}>\n        <h1 className={styles.title}>Sign up</h1>\n        <label className={styles.label}>\n          <input\n            style={{\n              color: formErrors.email\n                ? 'rgba(204, 32, 41, 0.6)'\n                : 'rgba(24, 28, 39, 0.6)',\n              borderBottom: formErrors.email\n                ? '1px solid rgba(204, 32, 41, 0.6)'\n                : '1px solid rgba(24, 28, 39, 0.2)',\n            }}\n            type=\"email\"\n            name=\"email\"\n            value={user.email}\n            onChange={handleChange}\n            className={styles.input}\n            placeholder=\"E-mail\"\n          />\n        </label>\n        {formErrors.email}\n\n        <label className={styles.label}>\n          <input\n            style={{\n              color: formErrors.password\n                ? 'rgba(204, 32, 41, 0.6)'\n                : 'rgba(24, 28, 39, 0.6)',\n              borderBottom: formErrors.password\n                ? '1px solid rgba(204, 32, 41, 0.6)'\n                : '1px solid rgba(24, 28, 39, 0.2)',\n            }}\n            type=\"password\"\n            name=\"password\"\n            value={user.password}\n            onChange={handleChange}\n            className={styles.input}\n            placeholder=\"Password\"\n          />\n        </label>\n        {formErrors.password}\n\n        <label className={styles.label}>\n          <input\n            style={{\n              color: formErrors.confirm_password\n                ? 'rgba(204, 32, 41, 0.6)'\n                : 'rgba(24, 28, 39, 0.6)',\n              borderBottom: formErrors.confirm_password\n                ? '1px solid rgba(204, 32, 41, 0.6)'\n                : '1px solid rgba(24, 28, 39, 0.2)',\n            }}\n            type=\"password\"\n            name=\"confirm_password\"\n            value={user.confirm_password}\n            onChange={handleChange}\n            className={styles.input}\n            placeholder=\"Confirm password\"\n          />\n        </label>\n        {formErrors.confirm_password}\n\n        <div className={styles.button_wrapper}>\n          <button className={styles.button} type=\"submit\">\n            Sign up\n          </button>\n        </div>\n        <p className={styles.textUnderbutton}>\n          Already have an account?\n          <Link to=\"/login\" className={styles.underlined}>\n            Sign in\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}