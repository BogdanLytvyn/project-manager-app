{"ast":null,"code":"import _defineProperty from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var _createReducer,_createReducer2,_createReducer3;import{combineReducers}from'redux';import{createReducer}from'@reduxjs/toolkit';import{addSprintRequest,addSprintSucces,addSprintError,deleteSprintRequest,deleteSprintSucces,deleteSprintError,fetchSprintsRequest,fetchSprintsSucces,changeTitleSuccess,fetchSprintsError}from'./sprints-actions';var sprintsReducer=createReducer([],(_createReducer={},_defineProperty(_createReducer,changeTitleSuccess,function(state,_ref){var payload=_ref.payload;var idx=state.findIndex(function(item){return item._id===payload.sprintId;});var sprint=state[idx];return[].concat(_toConsumableArray(state.slice(0,idx)),[_objectSpread(_objectSpread({},sprint),{},{title:payload.title})],_toConsumableArray(state.slice(idx+1)));}),_defineProperty(_createReducer,fetchSprintsSucces,function(_,_ref2){var payload=_ref2.payload;return payload;}),_defineProperty(_createReducer,addSprintSucces,function(state,_ref3){var payload=_ref3.payload;return[].concat(_toConsumableArray(state),[payload]);}),_defineProperty(_createReducer,deleteSprintSucces,function(state,_ref4){var payload=_ref4.payload;return state.filter(function(item){return item._id!==payload;});}),_createReducer));var loading=createReducer(false,(_createReducer2={},_defineProperty(_createReducer2,addSprintRequest,function(){return true;}),_defineProperty(_createReducer2,addSprintSucces,function(){return false;}),_defineProperty(_createReducer2,addSprintError,function(){return false;}),_defineProperty(_createReducer2,deleteSprintRequest,function(){return true;}),_defineProperty(_createReducer2,deleteSprintSucces,function(){return false;}),_defineProperty(_createReducer2,deleteSprintError,function(){return false;}),_defineProperty(_createReducer2,fetchSprintsRequest,function(){return true;}),_defineProperty(_createReducer2,fetchSprintsSucces,function(){return false;}),_defineProperty(_createReducer2,fetchSprintsError,function(){return false;}),_createReducer2));var handleError=function handleError(_,_ref5){var _payload$response;var payload=_ref5.payload;return payload===null||payload===void 0?void 0:(_payload$response=payload.response)===null||_payload$response===void 0?void 0:_payload$response.data;};var clearError=function clearError(){return null;};var error=createReducer(null,(_createReducer3={},_defineProperty(_createReducer3,fetchSprintsRequest,clearError),_defineProperty(_createReducer3,fetchSprintsError,handleError),_defineProperty(_createReducer3,addSprintRequest,clearError),_defineProperty(_createReducer3,addSprintError,handleError),_defineProperty(_createReducer3,deleteSprintRequest,clearError),_defineProperty(_createReducer3,deleteSprintError,handleError),_createReducer3));// const error = createReducer(null, {});\nexport default combineReducers({sprintsReducer:sprintsReducer,loading:loading,error:error});","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/redux/sprints/sprints-reducers.js"],"names":["combineReducers","createReducer","addSprintRequest","addSprintSucces","addSprintError","deleteSprintRequest","deleteSprintSucces","deleteSprintError","fetchSprintsRequest","fetchSprintsSucces","changeTitleSuccess","fetchSprintsError","sprintsReducer","state","payload","idx","findIndex","item","_id","sprintId","sprint","slice","title","_","filter","loading","handleError","response","data","clearError","error"],"mappings":"qZAAA,OAASA,eAAT,KAAgC,OAAhC,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OACEC,gBADF,CAEEC,eAFF,CAGEC,cAHF,CAIEC,mBAJF,CAKEC,kBALF,CAMEC,iBANF,CAOEC,mBAPF,CAQEC,kBARF,CASEC,kBATF,CAUEC,iBAVF,KAWO,mBAXP,CAaA,GAAMC,CAAAA,cAAc,CAAGX,aAAa,CAAC,EAAD,mDACjCS,kBADiC,CACZ,SAACG,KAAD,MAAwB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC5C,GAAMC,CAAAA,GAAG,CAAGF,KAAK,CAACG,SAAN,CAAgB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,GAAL,GAAaJ,OAAO,CAACK,QAAzB,EAApB,CAAZ,CACA,GAAMC,CAAAA,MAAM,CAAGP,KAAK,CAACE,GAAD,CAApB,CACA,mCACKF,KAAK,CAACQ,KAAN,CAAY,CAAZ,CAAeN,GAAf,CADL,kCAEOK,MAFP,MAEeE,KAAK,CAAER,OAAO,CAACQ,KAF9B,uBAGKT,KAAK,CAACQ,KAAN,CAAYN,GAAG,CAAG,CAAlB,CAHL,GAKD,CATiC,iCAUjCN,kBAViC,CAUZ,SAACc,CAAD,WAAMT,CAAAA,OAAN,OAAMA,OAAN,OAAoBA,CAAAA,OAApB,EAVY,iCAWjCX,eAXiC,CAWf,SAACU,KAAD,WAAUC,CAAAA,OAAV,OAAUA,OAAV,oCAA4BD,KAA5B,GAAmCC,OAAnC,IAXe,iCAYjCR,kBAZiC,CAYZ,SAACO,KAAD,WAAUC,CAAAA,OAAV,OAAUA,OAAV,OACpBD,CAAAA,KAAK,CAACW,MAAN,CAAa,SAAAP,IAAI,QAAIA,CAAAA,IAAI,CAACC,GAAL,GAAaJ,OAAjB,EAAjB,CADoB,EAZY,kBAApC,CAgBA,GAAMW,CAAAA,OAAO,CAAGxB,aAAa,CAAC,KAAD,qDAC1BC,gBAD0B,CACP,iBAAM,KAAN,EADO,kCAE1BC,eAF0B,CAER,iBAAM,MAAN,EAFQ,kCAG1BC,cAH0B,CAGT,iBAAM,MAAN,EAHS,kCAI1BC,mBAJ0B,CAIJ,iBAAM,KAAN,EAJI,kCAK1BC,kBAL0B,CAKL,iBAAM,MAAN,EALK,kCAM1BC,iBAN0B,CAMN,iBAAM,MAAN,EANM,kCAO1BC,mBAP0B,CAOJ,iBAAM,KAAN,EAPI,kCAQ1BC,kBAR0B,CAQL,iBAAM,MAAN,EARK,kCAS1BE,iBAT0B,CASN,iBAAM,MAAN,EATM,mBAA7B,CAYA,GAAMe,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACH,CAAD,iCAAMT,CAAAA,OAAN,OAAMA,OAAN,OAAoBA,CAAAA,OAApB,SAAoBA,OAApB,oCAAoBA,OAAO,CAAEa,QAA7B,4CAAoB,kBAAmBC,IAAvC,EAApB,CACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAM,KAAN,EAAnB,CAEA,GAAMC,CAAAA,KAAK,CAAG7B,aAAa,CAAC,IAAD,qDACxBO,mBADwB,CACFqB,UADE,kCAExBlB,iBAFwB,CAEJe,WAFI,kCAGxBxB,gBAHwB,CAGL2B,UAHK,kCAIxBzB,cAJwB,CAIPsB,WAJO,kCAKxBrB,mBALwB,CAKFwB,UALE,kCAMxBtB,iBANwB,CAMJmB,WANI,mBAA3B,CASA;AAEA,cAAe1B,CAAAA,eAAe,CAAC,CAC7BY,cAAc,CAAdA,cAD6B,CAE7Ba,OAAO,CAAPA,OAF6B,CAG7BK,KAAK,CAALA,KAH6B,CAAD,CAA9B","sourcesContent":["import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addSprintRequest,\r\n  addSprintSucces,\r\n  addSprintError,\r\n  deleteSprintRequest,\r\n  deleteSprintSucces,\r\n  deleteSprintError,\r\n  fetchSprintsRequest,\r\n  fetchSprintsSucces,\r\n  changeTitleSuccess,\r\n  fetchSprintsError,\r\n} from './sprints-actions';\r\n\r\nconst sprintsReducer = createReducer([], {\r\n  [changeTitleSuccess]: (state, { payload }) => {\r\n    const idx = state.findIndex(item => item._id === payload.sprintId);\r\n    const sprint = state[idx];\r\n    return [\r\n      ...state.slice(0, idx),\r\n      { ...sprint, title: payload.title },\r\n      ...state.slice(idx + 1),\r\n    ];\r\n  },\r\n  [fetchSprintsSucces]: (_, { payload }) => payload,\r\n  [addSprintSucces]: (state, { payload }) => [...state, payload],\r\n  [deleteSprintSucces]: (state, { payload }) =>\r\n    state.filter(item => item._id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [addSprintRequest]: () => true,\r\n  [addSprintSucces]: () => false,\r\n  [addSprintError]: () => false,\r\n  [deleteSprintRequest]: () => true,\r\n  [deleteSprintSucces]: () => false,\r\n  [deleteSprintError]: () => false,\r\n  [fetchSprintsRequest]: () => true,\r\n  [fetchSprintsSucces]: () => false,\r\n  [fetchSprintsError]: () => false,\r\n});\r\n\r\nconst handleError = (_, { payload }) => payload?.response?.data;\r\nconst clearError = () => null;\r\n\r\nconst error = createReducer(null, {\r\n  [fetchSprintsRequest]: clearError,\r\n  [fetchSprintsError]: handleError,\r\n  [addSprintRequest]: clearError,\r\n  [addSprintError]: handleError,\r\n  [deleteSprintRequest]: clearError,\r\n  [deleteSprintError]: handleError,\r\n});\r\n\r\n// const error = createReducer(null, {});\r\n\r\nexport default combineReducers({\r\n  sprintsReducer,\r\n  loading,\r\n  error,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}