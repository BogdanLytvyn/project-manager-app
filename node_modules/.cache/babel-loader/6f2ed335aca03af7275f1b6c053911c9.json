{"ast":null,"code":"import _defineProperty from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var _createReducer,_createReducer2,_createReducer3;import{combineReducers}from'redux';import{createReducer}from'@reduxjs/toolkit';import{projectsRequest,projectsSuccess,projectsError,createProjectRequest,createProjectSuccess,createProjectError,deleteProjectRequest,deleteProjectSuccess,deleteProjectError,editProjectTitleRequest,editProjectTitleSuccess,editProjectTitleError,addMemberSuccess}from'./projects-actions';var initialProjectsState=[];var projectsReducers=createReducer(initialProjectsState,(_createReducer={},_defineProperty(_createReducer,projectsSuccess,function(_,_ref){var payload=_ref.payload;return payload;}),_defineProperty(_createReducer,createProjectSuccess,function(state,_ref2){var payload=_ref2.payload;return[].concat(_toConsumableArray(state),[payload]);}),_defineProperty(_createReducer,editProjectTitleSuccess,function(state,_ref3){var payload=_ref3.payload;var idx=state.findIndex(function(item){return item._id===payload.projectId;});var project=state[idx];return[].concat(_toConsumableArray(state.slice(0,idx)),[_objectSpread(_objectSpread({},project),{},{title:payload.title})],_toConsumableArray(state.slice(idx+1)));}),_defineProperty(_createReducer,addMemberSuccess,function(state,_ref4){var payload=_ref4.payload;return state.map(function(project){return project._id===payload.projectId?_objectSpread(_objectSpread({},project),{},{members:payload.members}):project;});}),_defineProperty(_createReducer,deleteProjectSuccess,function(state,_ref5){var payload=_ref5.payload;return state.filter(function(item){return item._id!==payload;});}),_createReducer));var loadingReducer=createReducer(false,(_createReducer2={},_defineProperty(_createReducer2,projectsRequest,function(){return true;}),_defineProperty(_createReducer2,projectsSuccess,function(){return false;}),_defineProperty(_createReducer2,projectsError,function(){return false;}),_defineProperty(_createReducer2,createProjectRequest,function(){return true;}),_defineProperty(_createReducer2,createProjectSuccess,function(){return false;}),_defineProperty(_createReducer2,createProjectError,function(){return false;}),_defineProperty(_createReducer2,deleteProjectRequest,function(){return true;}),_defineProperty(_createReducer2,deleteProjectSuccess,function(){return false;}),_defineProperty(_createReducer2,deleteProjectError,function(){return false;}),_defineProperty(_createReducer2,editProjectTitleRequest,function(){return true;}),_defineProperty(_createReducer2,editProjectTitleSuccess,function(){return false;}),_defineProperty(_createReducer2,editProjectTitleError,function(){return false;}),_createReducer2));var handleError=function handleError(_,_ref6){var _payload$response;var payload=_ref6.payload;return payload===null||payload===void 0?void 0:(_payload$response=payload.response)===null||_payload$response===void 0?void 0:_payload$response.data;};var clearError=function clearError(){return null;};var errorReducers=createReducer(null,(_createReducer3={},_defineProperty(_createReducer3,projectsRequest,clearError),_defineProperty(_createReducer3,projectsError,handleError),_defineProperty(_createReducer3,createProjectRequest,clearError),_defineProperty(_createReducer3,createProjectError,handleError),_defineProperty(_createReducer3,deleteProjectRequest,clearError),_defineProperty(_createReducer3,deleteProjectError,handleError),_defineProperty(_createReducer3,editProjectTitleRequest,clearError),_defineProperty(_createReducer3,editProjectTitleError,handleError),_createReducer3));//const errorReducers = createReducer(null, {});\nvar projects=combineReducers({projects:projectsReducers,loading:loadingReducer,error:errorReducers});export default projects;","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/redux/projects/projects-reducers.js"],"names":["combineReducers","createReducer","projectsRequest","projectsSuccess","projectsError","createProjectRequest","createProjectSuccess","createProjectError","deleteProjectRequest","deleteProjectSuccess","deleteProjectError","editProjectTitleRequest","editProjectTitleSuccess","editProjectTitleError","addMemberSuccess","initialProjectsState","projectsReducers","_","payload","state","idx","findIndex","item","_id","projectId","project","slice","title","map","members","filter","loadingReducer","handleError","response","data","clearError","errorReducers","projects","loading","error"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport {\n  projectsRequest,\n  projectsSuccess,\n  projectsError,\n  createProjectRequest,\n  createProjectSuccess,\n  createProjectError,\n  deleteProjectRequest,\n  deleteProjectSuccess,\n  deleteProjectError,\n  editProjectTitleRequest,\n  editProjectTitleSuccess,\n  editProjectTitleError,\n  addMemberSuccess,\n} from './projects-actions';\n\nconst initialProjectsState = [];\n\nconst projectsReducers = createReducer(initialProjectsState, {\n  [projectsSuccess]: (_, { payload }) => payload,\n  [createProjectSuccess]: (state, { payload }) => [...state, payload],\n\n  [editProjectTitleSuccess]: (state, { payload }) => {\n    const idx = state.findIndex(item => item._id === payload.projectId);\n    const project = state[idx];\n    return [\n      ...state.slice(0, idx),\n      { ...project, title: payload.title },\n      ...state.slice(idx + 1),\n    ];\n  },\n  [addMemberSuccess]: (state, { payload }) =>\n    state.map(project =>\n      project._id === payload.projectId\n        ? { ...project, members: payload.members }\n        : project,\n    ),\n  [deleteProjectSuccess]: (state, { payload }) =>\n    state.filter(item => item._id !== payload),\n});\n\nconst loadingReducer = createReducer(false, {\n  [projectsRequest]: () => true,\n  [projectsSuccess]: () => false,\n  [projectsError]: () => false,\n  [createProjectRequest]: () => true,\n  [createProjectSuccess]: () => false,\n  [createProjectError]: () => false,\n  [deleteProjectRequest]: () => true,\n  [deleteProjectSuccess]: () => false,\n  [deleteProjectError]: () => false,\n  [editProjectTitleRequest]: () => true,\n  [editProjectTitleSuccess]: () => false,\n  [editProjectTitleError]: () => false,\n});\n\nconst handleError = (_, { payload }) => payload?.response?.data;\nconst clearError = () => null;\n\nconst errorReducers = createReducer(null, {\n  [projectsRequest]: clearError,\n  [projectsError]: handleError,\n  [createProjectRequest]: clearError,\n  [createProjectError]: handleError,\n  [deleteProjectRequest]: clearError,\n  [deleteProjectError]: handleError,\n  [editProjectTitleRequest]: clearError,\n  [editProjectTitleError]: handleError,\n});\n\n//const errorReducers = createReducer(null, {});\n\nconst projects = combineReducers({\n  projects: projectsReducers,\n  loading: loadingReducer,\n  error: errorReducers,\n});\nexport default projects;\n"]},"metadata":{},"sourceType":"module"}