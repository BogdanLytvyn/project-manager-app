{"ast":null,"code":"import _slicedToArray from\"/home/bogdan/project-manager-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{useParams}from'react-router-dom';import styles from'./TitleEditor.module.css';import sprite from\"../../icons/symbol-defs.svg\";import{editTitle}from'../../redux/sprints/sprints-operations';import{getSprintsSelector}from'../../redux/sprints/sprints-selectors';import AutosizeInput from'./AutosizeInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ChangeTitle(){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isUpdate=_useState4[0],setUpdate=_useState4[1];var _useParams=useParams(),sprintId=_useParams.sprintId;var sprints=useSelector(getSprintsSelector);var sprint=sprints.find(function(sprint){return sprint._id===sprintId;});var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isActive=_useState6[0],setActive=_useState6[1];var onChangeTitle=function onChangeTitle(e){setActive(function(){return setActive(false);});setUpdate(!isUpdate);setInput(sprint.title);};var onHandleChange=function onHandleChange(e){setInput(e.target.value);};var onFormSubmit=function onFormSubmit(e){e.preventDefault();dispatch(editTitle(sprintId,input));setUpdate(!isUpdate);setActive(function(){return setActive(true);});};if(isActive){return/*#__PURE__*/_jsxs(\"div\",{className:styles.wrapper,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.sprintTitle,onClick:onChangeTitle,children:sprint===null||sprint===void 0?void 0:sprint.title}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onChangeTitle,className:styles.changeTitleButton,children:/*#__PURE__*/_jsx(\"svg\",{className:styles.changeTitleButton,children:/*#__PURE__*/_jsx(\"use\",{href:sprite+'#icon-pencil'})})})]});}if(!isActive){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:styles.wrapper,children:[/*#__PURE__*/_jsx(AutosizeInput,{type:\"text\",name:\"edit\",value:input,onChange:onHandleChange,onBlur:onFormSubmit,maxLength:\"22\",inputClassName:styles.titleChangeInput,autoFocus:true,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.changeTitleButton,type:\"submit\",onClick:onFormSubmit,children:/*#__PURE__*/_jsx(\"svg\",{className:styles.changeTitleButton2,children:/*#__PURE__*/_jsx(\"use\",{href:sprite+'#icon-save'})})})]})});}}","map":{"version":3,"sources":["/home/bogdan/project-manager-app/src/components/titleEditor/TitleEditor.jsx"],"names":["React","useState","useSelector","useDispatch","useParams","styles","editTitle","getSprintsSelector","AutosizeInput","ChangeTitle","dispatch","input","setInput","isUpdate","setUpdate","sprintId","sprints","sprint","find","_id","isActive","setActive","onChangeTitle","e","title","onHandleChange","target","value","onFormSubmit","preventDefault","wrapper","sprintTitle","changeTitleButton","sprite","titleChangeInput","changeTitleButton2"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport styles from './TitleEditor.module.css';\nimport sprite from '../../icons/symbol-defs.svg';\nimport { editTitle } from '../../redux/sprints/sprints-operations';\nimport { getSprintsSelector } from '../../redux/sprints/sprints-selectors';\nimport AutosizeInput from './AutosizeInput';\n\n\nexport default function ChangeTitle() {\n  const dispatch = useDispatch();\n  const [input, setInput] = useState();\n  const [isUpdate, setUpdate] = useState(true);\n  const { sprintId } = useParams();\n  const sprints = useSelector(getSprintsSelector);\n  const sprint = sprints.find(sprint => sprint._id === sprintId);\n  const [isActive, setActive] = useState(true);\n\n\n  const onChangeTitle = e => {\n    setActive(() => setActive(false));\n    setUpdate(!isUpdate);\n    setInput(sprint.title);\n  };\n\n  const onHandleChange = e => {\n    setInput(e.target.value);\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    dispatch(editTitle(sprintId, input));\n    setUpdate(!isUpdate);\n    setActive(() => setActive(true));\n  };\n\n  if (isActive) {\n    return (\n      <div className={styles.wrapper}>\n\n        <h1 className={styles.sprintTitle} onClick={onChangeTitle}>\n          {sprint?.title}\n        </h1>\n        <button\n          type=\"button\"\n          onClick={onChangeTitle}\n          className={styles.changeTitleButton}\n        >\n          <svg className={styles.changeTitleButton}>\n            <use href={sprite + '#icon-pencil'}></use>\n          </svg>\n        </button>\n        </div>\n    );\n  }\n\n  if (!isActive) {\n    return (\n      <>\n        <form className={styles.wrapper}>\n          <AutosizeInput\n            type=\"text\"\n            name=\"edit\"\n            value={input}\n            onChange={onHandleChange}\n            onBlur={onFormSubmit}\n            maxLength=\"22\"\n            inputClassName={styles.titleChangeInput}\n            autoFocus\n            autoComplete=\"off\"\n          />\n          <button\n            className={styles.changeTitleButton}\n            type=\"submit\"\n            onClick={onFormSubmit}\n          >\n            <svg className={styles.changeTitleButton2}>\n              <use href={sprite + '#icon-save'}></use>\n            </svg>\n          </button>\n        </form>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}